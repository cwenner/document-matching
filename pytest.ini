[pytest]
markers =
    api: marks tests related to API functionality
    health: marks tests related to health checks
    smoke: marks smoke tests
    model: marks tests related to ML model predictions
    core_matching: marks tests related to core document matching functionality
    matching_scenarios: marks tests for specific document matching scenarios
    scenario: marks individual BDD scenarios
    empty_candidates: marks tests for the empty candidate list scenario
    story-1.1: marks tests related to user story 1.1
    story-1.2: marks tests related to user story 1.2
    story-1.5: marks tests related to user story 1.5
    supplier_mismatch: marks tests for supplier mismatch scenarios
    po_match: marks tests for purchase order matching scenarios
    no_match: marks tests for no-match scenarios
    implemented: marks tests that are implemented and working
    wip: marks tests as work in progress (skip by default in CI)
    not_implemented: marks tests as not yet implemented
    deviations: marks tests as deviation-related
    amount_deviation: marks tests as amount deviation tests
    quantity_deviation: marks tests as quantity deviation tests
    currency_mismatch: marks tests as currency mismatch tests

# Skip WIP tests by default unless --run-wip is specified  
addopts = -m "not wip"

filterwarnings =
    ignore:ast.Str is deprecated.*:DeprecationWarning:_pytest.assertion.rewrite
    ignore:ast.NameConstant is deprecated.*:DeprecationWarning:_pytest.assertion.rewrite
    ignore:Trying to unpickle estimator.*:UserWarning:sklearn.base
